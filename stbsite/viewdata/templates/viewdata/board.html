{% extends "viewdata/base.html" %}
{% load static from staticfiles %}

{% block style %}
<link rel="stylesheet" href="{% static 'viewdata/css/base_table.css' %}">
{% endblock style %}

{% block script %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript">
    function deleteBoard() {
        if (confirm('Are you sure you want to delete this board?')) {
            $.ajax({
                method: "GET",
                url: "/viewdata/delete-board?board_key={{board_key}}",
                data: {},
                success: function(data) {
                    window.location = '/viewdata/';
                }
            });
            return 1;
        } else {
            return 0;
        };
    };
</script>
{% endblock script %}

{% block title %}
<title>Board {{board_key}}</title>
{% endblock title %}

{% block body %}

<body>
    {% block nav-bar %}
    >> <a href="/viewdata/">Home</a>
    >> <a href="/viewdata/boards/{{board_key}}">Board {{board_id}}</a>
    {% endblock nav-bar %}
    <h1>Serenity Test Card</h1>
    <h2>Board ID: {{board_id}}</h2>
    <div style="padding-bottom: 20px">
        <button type="button" name="button" onclick="deleteBoard()">Delete Board</button>
    </div>
    <h3>All</h3>
    {% include "viewdata/board_table.html" with prefix="all" results=all.results header=all.header table_width=all.table_width%}
    <h3>Services</h3>
    {% include "viewdata/board_table.html" with prefix="services" results=services.results header=services.header table_width=services.table_width%}
    <h3>X0</h3>
    {% include "viewdata/board_table.html" with prefix="x0" results=x0.results header=x0.header table_width=x0.table_width%}
    <h3>X1</h3>
    {% include "viewdata/board_table.html" with prefix="x1" results=x1.results header=x1.header table_width=x1.table_width%}
</body>
{% endblock body %}
